#
# AUTO-GENERATED. DO NOT EDIT.
#

name: (deploy) workers

on:
  workflow_dispatch:
    inputs:
      service:
        type: choice
        description: Which service to deploy
        options:
        - ALL WORKERS (*)
        - birthday-notify
        - codebuild-notifier
        - directory-meta
        - dw-change-poster-id
        - dw-content-importer
        - dw-distribute-invites
        - dw-embed-worker
        - dw-esn-cluster-subs
        - dw-esn-filter-subs
        - dw-esn-fired-event
        - dw-esn-process-sub
        - dw-import-eraser
        - dw-incoming-email
        - dw-latest-feed
        - dw-lazy-cleanup
        - dw-mass-privacy
        - dw-send-email
        - dw-sphinx-copier
        - dw-support-notify
        - dw-synsuck
        - dw-xpost
        - expunge-users
        - import-scheduler
        - paidstatus
        - resolve-extacct
        - schedule-synsuck
        - shop-creditcard-charge
        - spellcheck-gm
        - sphinx-search-gm
      tag:
        type: string
        description: SHA256 to deploy (include "sha256:" prefix)
        required: true

env:
  REGION: us-east-1
  ECS_CLUSTER: dreamwidth
  CONTAINER_NAME: worker
  IMAGE_BASE: ghcr.io/dreamwidth/worker

jobs:
  deploy:
    if: github.repository == 'dreamwidth/dreamwidth'

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Configure AWS Credentials
        uses: aws-actions/configure-aws-credentials@v1
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ env.REGION }}

      - name: (birthday-notify) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'birthday-notify'
        id: render-worker-container-birthday-notify
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-birthday-notify-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (codebuild-notifier) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'codebuild-notifier'
        id: render-worker-container-codebuild-notifier
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-codebuild-notifier-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (directory-meta) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'directory-meta'
        id: render-worker-container-directory-meta
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-directory-meta-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-change-poster-id) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-change-poster-id'
        id: render-worker-container-dw-change-poster-id
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-change-poster-id-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-content-importer) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-content-importer'
        id: render-worker-container-dw-content-importer
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-content-importer-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-distribute-invites) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-distribute-invites'
        id: render-worker-container-dw-distribute-invites
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-distribute-invites-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-embed-worker) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-embed-worker'
        id: render-worker-container-dw-embed-worker
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-embed-worker-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-esn-cluster-subs) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-cluster-subs'
        id: render-worker-container-dw-esn-cluster-subs
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-esn-cluster-subs-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-esn-filter-subs) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-filter-subs'
        id: render-worker-container-dw-esn-filter-subs
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-esn-filter-subs-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-esn-fired-event) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-fired-event'
        id: render-worker-container-dw-esn-fired-event
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-esn-fired-event-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-esn-process-sub) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-process-sub'
        id: render-worker-container-dw-esn-process-sub
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-esn-process-sub-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-import-eraser) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-import-eraser'
        id: render-worker-container-dw-import-eraser
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-import-eraser-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-incoming-email) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-incoming-email'
        id: render-worker-container-dw-incoming-email
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-incoming-email-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-latest-feed) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-latest-feed'
        id: render-worker-container-dw-latest-feed
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-latest-feed-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-lazy-cleanup) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-lazy-cleanup'
        id: render-worker-container-dw-lazy-cleanup
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-lazy-cleanup-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-mass-privacy) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-mass-privacy'
        id: render-worker-container-dw-mass-privacy
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-mass-privacy-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-send-email) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-send-email'
        id: render-worker-container-dw-send-email
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-send-email-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-sphinx-copier) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-sphinx-copier'
        id: render-worker-container-dw-sphinx-copier
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-sphinx-copier-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-support-notify) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-support-notify'
        id: render-worker-container-dw-support-notify
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-support-notify-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-synsuck) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-synsuck'
        id: render-worker-container-dw-synsuck
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-synsuck-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (dw-xpost) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-xpost'
        id: render-worker-container-dw-xpost
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-dw-xpost-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (expunge-users) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'expunge-users'
        id: render-worker-container-expunge-users
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-expunge-users-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (import-scheduler) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'import-scheduler'
        id: render-worker-container-import-scheduler
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-import-scheduler-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (paidstatus) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'paidstatus'
        id: render-worker-container-paidstatus
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-paidstatus-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (resolve-extacct) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'resolve-extacct'
        id: render-worker-container-resolve-extacct
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-resolve-extacct-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (schedule-synsuck) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'schedule-synsuck'
        id: render-worker-container-schedule-synsuck
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-schedule-synsuck-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (shop-creditcard-charge) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'shop-creditcard-charge'
        id: render-worker-container-shop-creditcard-charge
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-shop-creditcard-charge-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (spellcheck-gm) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'spellcheck-gm'
        id: render-worker-container-spellcheck-gm
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-spellcheck-gm-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (sphinx-search-gm) Render Amazon ECS task definition
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'sphinx-search-gm'
        id: render-worker-container-sphinx-search-gm
        uses: aws-actions/amazon-ecs-render-task-definition@v1
        with:
          task-definition: ".github/workflows/tasks/worker-sphinx-search-gm-service.json"
          container-name: ${{ env.CONTAINER_NAME }}
          image: "${{ env.IMAGE_BASE }}@${{ github.event.inputs.tag }}"

      - name: (birthday-notify) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'birthday-notify'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-birthday-notify.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-birthday-notify-service"

      - name: (codebuild-notifier) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'codebuild-notifier'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-codebuild-notifier.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-codebuild-notifier-service"

      - name: (directory-meta) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'directory-meta'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-directory-meta.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-directory-meta-service"

      - name: (dw-change-poster-id) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-change-poster-id'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-change-poster-id.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-change-poster-id-service"

      - name: (dw-content-importer) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-content-importer'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-content-importer.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-content-importer-service"

      - name: (dw-distribute-invites) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-distribute-invites'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-distribute-invites.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-distribute-invites-service"

      - name: (dw-embed-worker) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-embed-worker'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-embed-worker.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-embed-worker-service"

      - name: (dw-esn-cluster-subs) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-cluster-subs'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-esn-cluster-subs.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-esn-cluster-subs-service"

      - name: (dw-esn-filter-subs) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-filter-subs'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-esn-filter-subs.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-esn-filter-subs-service"

      - name: (dw-esn-fired-event) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-fired-event'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-esn-fired-event.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-esn-fired-event-service"

      - name: (dw-esn-process-sub) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-esn-process-sub'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-esn-process-sub.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-esn-process-sub-service"

      - name: (dw-import-eraser) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-import-eraser'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-import-eraser.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-import-eraser-service"

      - name: (dw-incoming-email) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-incoming-email'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-incoming-email.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-incoming-email-service"

      - name: (dw-latest-feed) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-latest-feed'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-latest-feed.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-latest-feed-service"

      - name: (dw-lazy-cleanup) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-lazy-cleanup'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-lazy-cleanup.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-lazy-cleanup-service"

      - name: (dw-mass-privacy) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-mass-privacy'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-mass-privacy.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-mass-privacy-service"

      - name: (dw-send-email) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-send-email'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-send-email.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-send-email-service"

      - name: (dw-sphinx-copier) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-sphinx-copier'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-sphinx-copier.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-sphinx-copier-service"

      - name: (dw-support-notify) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-support-notify'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-support-notify.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-support-notify-service"

      - name: (dw-synsuck) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-synsuck'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-synsuck.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-synsuck-service"

      - name: (dw-xpost) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'dw-xpost'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-dw-xpost.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-dw-xpost-service"

      - name: (expunge-users) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'expunge-users'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-expunge-users.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-expunge-users-service"

      - name: (import-scheduler) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'import-scheduler'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-import-scheduler.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-import-scheduler-service"

      - name: (paidstatus) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'paidstatus'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-paidstatus.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-paidstatus-service"

      - name: (resolve-extacct) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'resolve-extacct'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-resolve-extacct.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-resolve-extacct-service"

      - name: (schedule-synsuck) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'schedule-synsuck'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-schedule-synsuck.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-schedule-synsuck-service"

      - name: (shop-creditcard-charge) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'shop-creditcard-charge'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-shop-creditcard-charge.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-shop-creditcard-charge-service"

      - name: (spellcheck-gm) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'spellcheck-gm'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-spellcheck-gm.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-spellcheck-gm-service"

      - name: (sphinx-search-gm) Deploy to Amazon ECS service
        if: github.event.inputs.service == 'ALL WORKERS (*)' || github.event.inputs.service == 'sphinx-search-gm'
        uses: aws-actions/amazon-ecs-deploy-task-definition@v1
        with:
          task-definition: ${{ steps.render-worker-container-sphinx-search-gm.outputs.task-definition }}
          cluster: ${{ env.ECS_CLUSTER }}
          service: "worker-sphinx-search-gm-service"

      - name: Notify Discord
        uses: sarisia/actions-status-discord@v1
        if: always()
        with:
          title: "${{ github.event.inputs.service }} DEPLOY STARTED"
          description: "Deploying `${{ github.event.inputs.tag }}` to `${{ github.event.inputs.service }}`\n\nClick the header above to watch the deployment progress."
          url: "https://${{ env.REGION }}.console.aws.amazon.com/ecs/v2/clusters/dreamwidth/services?region=${{ env.REGION }}"
          webhook: ${{ secrets.DISCORD_WEBHOOK }}
          nocontext: true
